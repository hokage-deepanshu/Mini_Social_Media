<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" />
    <link rel="stylesheet" href="/css/addpost.css">
</head>

<body>
    <div class="nav">
        <div class="logo">
            <a th:href="@{/dashboard(username=${username})}"> <img src="assets/logo.png" alt="" width="50px"></a>
            <span>Socio</span>
        </div>
        <div class="search">
            <input type="text" placeholder="Search...">
            <button id="Searchbutton">Search</button>
        </div>
        <div class="buttons">
            <a href="#"><img src="assets/email.png" alt="Messages" width="40px"></a>
            <a th:href="@{/profile(username=${username})}"><img src="assets/profile.png" alt="Profile" width="35px"></a>
        </div>
    </div>

    <div class="main">
        <!-- Sidebar section -->
        <div class="corner">
            <div class="features">
                <span>Short-cuts</span>
                <a th:href="@{/dashboard(username=${username})}">
                    <img src="assets/home.png" alt="Home" width="28px">Home</a>
                <a th:href="@{/notification(username=${username})}"><img src="assets/not.png" alt="Notifications"
                        width="25px"> Notification</a>
                <a th:href="@{/addpost(username=${username})}"><img src="assets/add2.png" alt="Add Post" width="30px">
                    Add Post</a>
                <a th:href="@{/setting(username=${username})}"><img src="assets/setting.png" alt="Settings"
                        width="28px">Settings</a>
                <a href="#"><img src="assets/logout.png" alt="Logout" width="24px">Logout</a>
            </div>
            <div class="news">
                <h3>Latest News</h3>
                <p>Stay tuned for updates...</p>
            </div>
        </div>

        <!-- Main content section -->
        <div class="addpostbox">
            <h2>Add Post</h2>
            <!-- File Input for Image Upload -->
            <form action="/addpost" method="POST" id="editForm">
                <label for="imageInput">
                    <img src="assets/add.png" id="imagePreview" alt="Image Preview" width="300px" />
                </label>

                <input type="file" id="imageInput" accept="image/*" style="display: none;" />
                <div id="cropper-container" style="display: none;">
                    <img id="croppedImage" src="" alt="To Be Cropped">
                    <div class="controls">
                        <button onclick="setAspectRatio(1)">1:1</button>
                        <button onclick="setAspectRatio(4 / 3)">4:3</button>
                        <button onclick="setAspectRatio(16 / 9)">16:9</button>
                        <button onclick="rotateImage(90)">Rotate</button>
                        <button id="applyEdit">Apply Crop</button>
                    </div>
                </div>


                <!-- Caption Input -->
                <div class="caption-container">
                    <label for="caption">Add a caption:</label><br>
                    <textarea id="caption" name="caption" placeholder="Add your caption..." rows="2"
                        style="width: 95%;"></textarea><br><br>
                </div>


                <!-- List of Emojis -->
                <div class="emoji-container" id="emojiContainer">
                    <span class="emoji" onclick="addEmoji('üòÄ')">üòÄ</span>
                    <span class="emoji" onclick="addEmoji('üòä')">üòä</span>
                    <span class="emoji" onclick="addEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
                    <span class="emoji" onclick="addEmoji('üòé')">üòé</span>
                    <span class="emoji" onclick="addEmoji('üòÇ')">üòÇ</span>
                    <!-- Add more emojis as needed -->
                </div>

                <!-- Submit and Close Buttons -->
                <button type="submit" id="applyEdit" class="btn">Add post</button>
            </form>

        </div>

        <!-- User Profile Card Section -->
        <div class="left">
            <div class="usercard">
                <span id="name"> Your Popularity </span>
                <div class="info">
                    <div class="photo">
                        <img class="profile-photo" src="assets/default_profile.jpg" alt="Profile Photo" width="100"
                            height="100">
                    </div>
                    <div class="details">
                        <p>Username: <span th:text="${username}">Not Exist</span></p>
                        <p>Followers: <span th:text="${followersCount}">0</span></p>
                        <p>Following: <span th:text="${followingCount}">0</span></p>
                    </div>
                </div>
                <input type="file" id="uploadPhoto" accept="image/*">
                <button id="removePhoto">Remove Photo</button>
            </div>

            <div class="news">
                <h3> Recent Activities</h3>
                <p>Stay tuned for updates...</p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="script/post.js"></script>
    <script src="script/addpost.js"></script>
</body>

</html>